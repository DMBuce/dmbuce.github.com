I"Y<p>Locking mechanisms are hard.
Let’s look at some different ways to obtain a lock from a <code class="language-plaintext highlighter-rouge">bash</code> script.</p>

<ol id="markdown-toc">
  <li><a href="#options" id="markdown-toc-options">Options</a></li>
</ol>

<h3 id="options">Options</h3>

<p>lockfiles</p>
<ul>
  <li>set -o noclobber &amp;&amp; echo $$ &gt;”$lockfile”</li>
  <li>mktemp</li>
  <li>shlock</li>
  <li>lockfile (procmail)</li>
  <li>flock (util-linux)</li>
  <li>don’t use lock files</li>
</ul>

<!--
### Footnotes

[^1]: Credit goes to <user> for <whatever reasons>.
-->

:ET